# Test configuration for envoy-acme-xds
# Used in containerized test environment with Pebble ACME server
#
# Note: Listener/cluster configs with typed_config are not yet supported
# due to protobuf Any serialization complexity. The XDS server will
# create default listeners for ACME challenges.

meta:
  # Directory for storing ACME account credentials and certificates
  storage_dir: /var/lib/envoy-acme-xds

  # Unix socket path for the XDS gRPC server (shared with Envoy container)
  socket_path: /var/lib/envoy-acme-xds/envoy-xds.sock

  # Pebble ACME directory URL
  acme_directory_url: https://pebble:14000/dir

# Test certificates to obtain from Pebble
certificates:
  - name: test-cert
    domains:
      - test.example.com
      - www.test.example.com

# Empty envoy config - the XDS server will create ACME challenge routes
envoy:
  listeners: []
  clusters: []
